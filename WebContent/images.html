<!DOCTYPE html>
<!-- saved from url=(0050)http://getbootstrap.com/examples/jumbotron-narrow/ -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="http://getbootstrap.com/favicon.ico">

<title>Narrow Jumbotron Template for Bootstrap</title>

<!-- Bootstrap core CSS -->
<link href="./css/bootstrap.min.css" rel="stylesheet">

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<link href="./css/ie10-viewport-bug-workaround.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="./css/jumbotron-narrow.css" rel="stylesheet">

<link href="./css/main.css" rel="stylesheet">
<link href="./css/img-rotate.css" rel="stylesheet">
<link rel="stylesheet" href="./css/lightbox.css">

<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
<script src="./js/ie-emulation-modes-warning.js"></script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->	
</head>
<body>

	<div class="container">
	
		<div class="header clearfix">
			<nav class="pull-right">
				<ul>
					<li><label class="checkbox-wrap"><input type="checkbox" name="allChkBox" value="" id="allChkBox"><i class="check-icon"></i></label></li>
					<li><button type="button" class="btn btn-success" id="download">download</button></li>
				</ul>
				
				
				<!-- <ul class="nav nav-pills pull-right">
					<li role="presentation" class="active"><a
						href="http://getbootstrap.com/examples/jumbotron-narrow/#">Home</a></li>
					<li role="presentation"><a
						href="http://getbootstrap.com/examples/jumbotron-narrow/#">About</a></li>
					<li role="presentation"><a
						href="http://getbootstrap.com/examples/jumbotron-narrow/#">Contact</a></li>
				</ul> -->
			</nav>
			<h3 class="text-muted" id="title">images</h3>
		</div>
		
		<!-- **************************************** -->
		<!-- image Orientation Explain  -->
		<!-- http://sylvana.net/jpegcrop/exif_orientation.html   -->
		<!-- **************************************** -->
		<!-- <div class="image-wrapper">
			<ul>
				<li class="image">
					<label class="checkbox-wrap"><input type="checkbox" name="chkbox" value="folder.png"><i class="check-icon"></i></label>
					<a class="example-image-link" href="images/img_20170306092425.jpg" data-lightbox="example-set" ><img class="example-image img1" id="img1" src="images/img_20170306092425.jpg"/></a>
				</li>	
				<li class="image">
					<img class="example-image" id="img2" src="images/img_20170306092503.jpg"/>
				</li>	
				<li class="image">
					<label class="checkbox-wrap"><input type="checkbox" name="chkbox" value="next.png"><i class="check-icon"></i></label>
					<a class="example-image-link" href="http://lokeshdhakar.com/projects/lightbox2/images/image-4.jpg" data-lightbox="example-set" ><img class="example-image" id="img3" src="" alt="" /></a>
				</li>
				<li class="image">
					<label class="checkbox-wrap"><input type="checkbox" name="chkbox" value=""><i class="check-icon"></i></label>
					<a class="example-image-link" href="http://lokeshdhakar.com/projects/lightbox2/images/image-5.jpg" data-lightbox="example-set" ><img class="example-image" src="http://lokeshdhakar.com/projects/lightbox2/images/thumb-5.jpg" alt="" /></a>
				</li>
				<li class="image">	
					<label class="checkbox-wrap"><input type="checkbox" name="chkbox" value=""><i class="check-icon"></i></label>
					<a class="example-image-link" href="http://lokeshdhakar.com/projects/lightbox2/images/image-6.jpg" data-lightbox="example-set" ><img class="example-image" src="http://lokeshdhakar.com/projects/lightbox2/images/thumb-6.jpg" alt="" /></a>
				</li>
			</ul>
	    </div> -->
	    
	    <div class="image-wrapper">
			<ul>
				<li class="image">
					<a href="javascript:"><img class="rotate-image img1" id="img1" src="images/img_20170306092425.jpg" onclick="Rotate.click(this)"/></a>
				</li>	
				<li class="image">
					<a href="javascript:"><img class="rotate-image" id="img2" src="images/img_20170306092503.jpg" onclick="Rotate.click(this)"/></a>
				</li>
				<li class="image">
					<img class="example-image" id="img3" src="" alt="" />
				</li>
				<li class="image">
					<img class="example-image" src="http://lokeshdhakar.com/projects/lightbox2/images/thumb-5.jpg" alt="" />
				</li>
				<li class="image">	
					<img class="example-image" src="http://lokeshdhakar.com/projects/lightbox2/images/thumb-6.jpg" alt="" />
				</li>
			</ul>
	    </div>
	</div>
	
	<div class="imgRotateOverlay" id="imgRotateOverlay">
	</div>
	<div class="center-image-wrapper" id="center-image-wrapper">
		<img class="centerImage" id="centerImage"/>
		<span class="glyphicon glyphicon-chevron-left indicator indicator-left" id="indicator-left" aria-hidden="true" onclick="Rotate.clickLeft()"></span>
		<span class="glyphicon glyphicon-chevron-right indicator indicator-right" aria-hidden="true" onclick="Rotate.clickRight()"></span>
	</div>
	

	<form method="POST" action="download.zip" name="download">
		<input type="hidden" name="images" value="">
	</form>
    
   
  <script src="./js/lightbox-plus-jquery.min.js"></script>
  <script src="./js/jszip.min.js"></script>
  <script src="./js/jquery-3.1.1.min.js"></script>
  <script src="./js/exif.js"></script>
  <script src="./js/img-rotate.js"></script>
	<script>
		// 파라미터 가져오기
		Url = {
			    get get(){
			        var vars= {};
			        if(window.location.search.length!==0)
			            window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value){
			                key=decodeURIComponent(key);
			                if(typeof vars[key]==="undefined") {vars[key]= decodeURIComponent(value);}
			                else {vars[key]= [].concat(vars[key], decodeURIComponent(value));}
			            });
			        return vars;
			    }
		};
	
		$(document).ready(function () {
		    
		   setTimeout(function() { 
		    	
		    	Rotate.rotate($("#img1")); 
		    	Rotate.rotate($("#img2")); 
		    	
		    }, 100);
			
			$("#title").text(Url.get.folder);
			$("#allChkBox").attr("checked", true);
			$("#allChkBox").attr("checked", false);
			// all checkbox 
			$("#allChkBox").on("click", function() {
				if(!$(this).is(":checked")) {
					$("input[type=checkbox]").prop("checked", false);
				} else {
					$("input[type=checkbox]").prop("checked", true);
				}
			});
			
			// each checkbox
			$("input[name=chkbox]:checkbox").off("click").on("click", function() {
				if (! $(this).is(":checked")) {
					$("input[name=allChkBox]:checkbox").prop("checked", false);
				}
				else {
					$("input[name=allChkBox]:checkbox").prop("checked", chkBoxCheckedAll());
				}
			});
		});
		
		function chkBoxCheckedAll() {
			var i=0;
			$("input[name=chkbox]:checkbox").each(function() {
				if(!$(this).is(":checked")) i++;
			});
			if (i> 0) {
				return false;
			} else {
				return true;
			}
		}
		
		$("#download").off("click").on("click", function() {
			var data = {};
			data.images = [];
			
			var i=0;
			$("input[name=chkbox]:checkbox").each(function() {
				if($(this).is(":checked")) {
					data.images[i] = $(this).val();
					i++;
				}
			});
			
			var downloadForm = document.forms["download"]; 
			downloadForm.images.value = JSON.stringify(data.images);
			downloadForm.submit();
		});
	
	    function fitImageSize(obj) {
	    	var image = new Image();

	    	image.onload = function(){
	    	
	    		var width = image.width;
	    		var height = image.height;
	    		
	    		var scalex = window.innerWidth / width;
	    		var scaley = window.innerHeight / height;
	    		
	    		var scale = (scalex < scaley) ? scalex : scaley;
	    		if (scale > 1) 
	    			scale = 1;
	    		
	    		obj.width = scale * width - 20;
	    		obj.height = scale * height - 40;
	    		obj.style.top = "20px";
	    		
	    		obj.style.display = "block";
	    	}
	    	image.src = obj.src;
	    }
	</script>
</body>
</html>
